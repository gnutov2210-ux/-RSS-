# 07_config_and_constraints.md

## Конфиг

- default_category: 'all' (показывать все новости)
- cache_ttl_minutes: 15 (время жизни кеша новостей)
- max_articles_per_page: 50
- network_timeout_seconds: 7 (таймаут для запросов к RSS)

## Локальные файлы / хранилище

- localStorage.favorites — массив сохраненных статей
- localStorage.settings — настройки пользователя
- cache/ (in-memory) — кеш статей

## Политика кеша

- Статьи из RSS
- TTL 15 минут (по умолчанию)

## Ограничения

- Из-за CORS все запросы к RSS должны идти через прокси (Next.js API)
- Не более 5 источников RSS в первой версии
- таймаут сети = 7 сек

## Политика ошибок

- Показываем пользователю читаемое сообщение (тосты или баннеры)
- Логируем ошибки парсинга в консоль браузера (для разработчика)

---

# 08_load_performance_and_testing.md

## Сценарии нагрузки

S1: открытие главной страницы (загрузка 5 RSS лент)
S2: поиск по статьям в реальном времени
S3: переход между страницами (Лента -> Статья -> Избранное)

## Частота запросов

- ≤ 30 запросов/минуту на одного пользователя (через API прокси)

## Меры защиты

- TTL кеша (кешируем ответы от RSS на серверной части)
- Debounce для поиска (не дергаем фильтрацию на каждое нажатие)
- Таймауты сети

## Тест-стратегия

- **Unit**: Конвертация RSS XML в объекты Article, валидация данных.
- **Integration**: Взаимодействие с localStorage (чтение/запись избранного), вызов API маршрутов Next.js.
- **E2E/Acceptance**: Загрузка главной страницы, клик по статье, добавление в избранное.

## Матрица MUST → тесты

| Требование        | Unit | Integration | E2E |
|-------------------|------|-------------|-----|
| Загрузка ленты    | ✅    | ✅           | ✅   |
| Фильтрация        | ✅    | ❌           | ✅   |
| Поиск             | ✅    | ❌           | ✅   |
| Детальная страница| ❌    | ✅           | ✅   |
| Избранное         | ✅    | ✅           | ✅   |
| Обновление ленты  | ❌    | ✅           | ✅   |